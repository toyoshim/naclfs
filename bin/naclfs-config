#!/bin/sh

function _wrap() {
  /bin/echo -n "-Xlinker --wrap -Xlinker $1 "
}

function cflags() {
  /bin/echo -n "-I$1/../src"
}

function libs() {
  /bin/echo -n "-L$1/../obj/$2 -lnaclfs"
}

function nmf() {
  /bin/echo -n "-L $1/../obj/glibc-i686 -L $1/../obj/glibc-x86_64"
}

function help() {
  echo "Usage: naclfs-config [--cflags] [--libs toolchain] [--nmf]"
  echo "  toolchain:"
  echo "    newlib-i686   ... 32-bit static library for newlib"
  echo "    newlib-x86_64 ... 64-bit static library for newlib"
}

DIRNAME="`dirname $0`"

case $1 in
  --cflags) cflags $DIRNAME;;
  --libs) libs $DIRNAME $2;;
  --nmf) nmf $DIRNAME;;
  *) help;;
esac

